# PRD-301: Hackathon 比赛平台 - 第三期需求文档

## 1. 文档说明

### 1.1 文档目的
本文档基于 IDEA-301，详细描述 Hackathon 比赛平台第三期的功能需求，包括赞助商入驻流程、活动流程优化和整体多语言支持等功能模块，提供详细的功能规格说明和实现要求。

### 1.2 文档范围
- 赞助商入驻流程（Admin 平台和 Arena 平台）
- 活动流程优化（Admin 平台）
- 活动集锦功能（Arena 平台）
- 多语言支持（Admin 和 Arena 平台）

### 1.3 基于文档
- IDEA-301: Hackathon 比赛平台第三期创意文档

**文档版本**: v1.0  
**创建日期**: 2024-01-XX  
**最后更新**: 2024-01-XX  
**维护人员**: 产品团队

---

## 2. 项目概述

### 2.1 项目背景
Hackathon 比赛平台是一个面向主办方、参赛者和赞助商的三方平台。第三期主要完善赞助商入驻流程，优化活动管理功能，并增加多语言支持，提升平台的国际化水平和用户体验。

### 2.2 项目目标
1. **建立完整的赞助商入驻体系**：为赞助商提供便捷的申请流程，为主办方提供高效的审核机制
2. **优化活动管理流程**：提升活动创建、管理和展示的效率与体验
3. **增强活动展示效果**：通过活动海报和活动集锦功能，提升活动的传播力和影响力
4. **实现国际化支持**：提供中英文双语支持，扩大平台适用范围

### 2.3 项目范围
- **Admin 平台**：赞助商申请审核、活动创建优化、活动详情看板优化、活动管理优化、活动海报生成
- **Arena 平台**：赞助商展示、活动集锦、多语言切换
- **整体优化**：中英文双语支持

---

## 3. 用户角色定义

| 角色 | 角色代码 | 描述 | 登录方式 |
|------|---------|------|----------|
| **主办方** | admin | 创建和管理 Hackathon 活动的组织者 | 账号密码登录 |
| **参赛者** | participant | 参与 Hackathon 比赛的个人或团队 | Metamask 钱包连接 |
| **赞助商** | sponsor | 为活动提供赞助的企业或组织 | 账号密码登录（审核通过后自动创建） |
| **访客** | guest | 未登录的普通访问者 | 无需登录 |

### 3.1 赞助商类型定义

| 类型 | 类型代码 | 描述 | 展示范围 |
|------|---------|------|----------|
| **长期赞助商** | long_term | 提供长期赞助，所有活动都会展示其 Logo | Arena 平台全局展示 |
| **活动指定赞助商** | event_specific | 仅赞助指定活动，仅在对应活动页面展示 | Arena 平台指定活动页面展示 |

---

## 4. 功能需求

### 4.1 赞助商入驻流程

#### 4.1.1 Admin 平台 - 赞助商申请页面

**功能描述**：为赞助商提供无需登录的申请入口，支持提交赞助申请。

**页面路径**：`/sponsor/apply`（无需登录）

**功能需求**：

1. **申请表单**
   - 手机号（必填）
     - 格式校验：11位数字
     - 唯一性校验：同一手机号不能重复申请
   - 赞助商 Logo（必填）
     - 支持图片上传
     - 格式要求：JPG、PNG、GIF
     - 尺寸要求：建议 200x200px 以上，支持等比缩放
     - 文件大小：不超过 5MB
   - 赞助类型（必填）
     - 选项1：长期赞助（所有活动展示）
     - 选项2：活动指定赞助（需选择活动）
   - 活动选择（条件必填）
     - 当选择"活动指定赞助"时，此字段必填
     - 仅显示处于"发布"阶段的活动
     - 支持多选
     - 显示活动名称和活动时间

2. **申请提交**
   - 表单验证：所有必填项校验通过后才能提交
   - 提交成功后显示提示信息："申请已提交，请使用手机号查询审核结果"
   - 提交失败时显示错误提示

3. **申请结果查询**
   - 提供查询入口：输入手机号查询申请状态
   - 查询结果展示：
     - 审核中：显示"您的申请正在审核中，请耐心等待"
     - 审核通过：显示"恭喜！您的申请已通过，账号已自动创建，请使用手机号登录"
     - 审核拒绝：显示"很抱歉，您的申请未通过审核"
     - 未找到：显示"未找到相关申请记录"

**数据字段**：
- 申请ID（自动生成）
- 手机号
- Logo URL
- 赞助类型
- 关联活动ID列表（活动指定赞助时）
- 申请状态（pending/approved/rejected）
- 申请时间
- 审核时间
- 审核人ID（审核通过/拒绝时）

---

#### 4.1.2 Admin 平台 - 赞助商审核功能

**功能描述**：Admin 用户可以审核赞助商的申请，审核通过后自动创建赞助商账号。

**页面路径**：`/sponsors/pending`（需 Admin 登录）

**功能需求**：

1. **待审核列表**
   - 显示所有待审核的赞助商申请
   - 列表字段：
     - 申请时间
     - 手机号
     - 赞助商 Logo（缩略图）
     - 赞助类型
     - 关联活动（活动指定赞助时显示）
     - 操作按钮（审核/拒绝）
   - 支持分页显示
   - 支持按申请时间排序

2. **审核操作**
   - **审核通过**：
     - 点击"通过"按钮
     - 确认对话框："确认通过该赞助商申请？通过后将自动创建账号。"
     - 自动创建赞助商账号：
       - 用户名：手机号
       - 密码：系统自动生成（建议8位随机密码，后续可修改）
       - 角色：sponsor
       - 手机号：申请时的手机号
       - Logo：申请时上传的 Logo
       - 赞助类型：申请时选择的类型
       - 关联活动：申请时选择的活动（如有）
     - 发送通知（可选）：通过短信或邮件通知赞助商账号信息
     - 更新申请状态为"已通过"
   - **审核拒绝**：
     - 点击"拒绝"按钮
     - 确认对话框："确认拒绝该赞助商申请？"
     - 更新申请状态为"已拒绝"
     - 可选：填写拒绝原因（记录在系统中，不对外展示）

3. **已审核列表**
   - 显示所有已审核的申请（通过/拒绝）
   - 支持筛选：全部/已通过/已拒绝
   - 支持搜索：按手机号搜索

**权限要求**：
- 仅 Admin 用户可访问
- 需要相应的权限验证

---

#### 4.1.3 Arena 平台 - 赞助商展示

**功能描述**：在 Arena 平台展示赞助商信息，长期赞助商全局展示，活动指定赞助商在对应活动页面展示。

**展示位置**：

1. **全局长期赞助商展示**
   - 展示位置：Arena 平台首页
   - 展示内容：
     - 赞助商 Logo
     - 展示区域：建议在页面顶部或底部固定区域
     - 展示样式：横向排列，支持轮播（如赞助商较多）
   - 展示规则：
     - 仅显示状态为"已通过"的长期赞助商
     - 按审核通过时间排序（最新通过的在前）
     - Logo 点击效果：可配置跳转链接（如有）

2. **活动指定赞助商展示**
   - 展示位置：活动详情页面
   - 展示内容：
     - 赞助商 Logo
     - 展示区域：活动详情页面顶部或侧边栏
   - 展示规则：
     - 仅显示该活动的指定赞助商
     - 仅显示状态为"已通过"的赞助商
     - 按审核通过时间排序

**技术要求**：
- Logo 图片需支持响应式显示
- 支持图片懒加载
- 图片加载失败时显示占位图

---

### 4.2 活动流程优化

#### 4.2.1 Admin 平台 - 创建活动页面优化

**功能描述**：优化活动创建页面，增加奖品设置，优化时间设置，自动分配各阶段时间。

**页面路径**：`/hackathons/create`（需 Admin 登录）

**功能需求**：

1. **奖项设置优化**
   - **奖金设置**（保持原有功能）
     - 奖项名称
     - 奖金金额
     - 获奖名额
   - **奖品设置**（新增）
     - 每个奖项可设置奖品
     - 奖品名称（必填）
     - 奖品描述（可选）
     - 奖品图片（可选）
     - 默认奖品：活动 NFT（系统自动填充，可修改）
     - 支持多个奖品（如：一等奖包含奖金+奖品1+奖品2）

2. **时间设置优化**
   - **活动时间**：
     - 开始时间：时分秒固定为 00:00:00
     - 结束时间：时分秒固定为 23:59:59
     - 日期选择器：仅选择日期，时间自动填充
   - **自动分配各阶段时间**（新增）：
     - 根据活动开始时间和结束时间，自动计算各阶段时间
     - 计算规则：
       - 报名阶段：活动开始时间 ~ 活动开始时间 + 7天（默认，可调整）
       - 签到阶段：报名阶段结束时间 ~ 报名阶段结束时间 + 1天
       - 组队阶段：签到阶段结束时间 ~ 签到阶段结束时间 + 3天
       - 提交阶段：组队阶段结束时间 ~ 活动结束时间前 2天
       - 投票阶段：提交阶段结束时间 ~ 活动结束时间前 1天
       - 公布结果阶段：活动结束时间 ~ 活动结束时间 + 7天
     - 自动分配后，各阶段时间可手动调整
     - 时间分配逻辑需考虑：
       - 各阶段时间不能重叠
       - 各阶段时间必须在活动时间范围内
       - 提交阶段和投票阶段需在活动结束前完成

**数据字段**：
- 奖项信息（扩展）：
  - 奖项ID
  - 奖项名称
  - 奖金金额
  - 获奖名额
  - 奖品列表：
    - 奖品名称
    - 奖品描述
    - 奖品图片URL

---

#### 4.2.2 Admin 平台 - 活动详情看板优化

**功能描述**：优化活动详情看板，统一描述字段展示样式，增加统计信息详情查看功能。

**页面路径**：`/hackathons/:id`（需 Admin 登录）

**功能需求**：

1. **描述字段展示优化**
   - 描述字段展示样式与其他字段保持一致
   - 支持富文本展示
   - 支持展开/收起（如内容较长）

2. **统计信息详情**（新增）
   - 统计信息卡片：
     - 报名人数
     - 签到人数
     - 队伍数量
     - 作品数量
   - 点击统计卡片，弹出详情弹窗：
     - **报名人数详情**：
       - 显示报名用户列表
       - 字段：用户昵称、钱包地址、报名时间
       - 支持搜索：按昵称或钱包地址搜索
       - 支持导出（可选）：导出为 CSV 文件
     - **签到人数详情**：
       - 显示已签到用户列表
       - 字段：用户昵称、钱包地址、签到时间
       - 支持搜索：按昵称或钱包地址搜索
       - 支持导出（可选）：导出为 CSV 文件
     - **队伍数量详情**：
       - 显示所有队伍列表
       - 字段：队伍名称、队长、成员数量、创建时间
       - 支持搜索：按队伍名称或队长搜索
       - 点击队伍名称可跳转到队伍详情
     - **作品数量详情**：
       - 显示所有提交的作品列表
       - 字段：作品名称、队伍名称、提交时间、得票数
       - 支持搜索：按作品名称或队伍名称搜索
       - 点击作品名称可跳转到作品详情

**交互要求**：
- 统计卡片支持点击交互（鼠标悬停效果）
- 详情弹窗支持关闭（点击遮罩或关闭按钮）
- 详情列表支持分页（如数据较多）

---

#### 4.2.3 Admin 平台 - 活动管理页面优化

**功能描述**：优化活动管理页面，增加活动名称模糊搜索，去除排序搜索框。

**页面路径**：`/hackathons`（需 Admin 登录）

**功能需求**：

1. **搜索功能优化**
   - **活动名称模糊搜索**（新增）：
     - 搜索框位置：页面顶部
     - 搜索方式：实时搜索（输入即搜索）
     - 搜索范围：活动名称
     - 搜索规则：支持部分匹配（模糊搜索）
     - 搜索提示：显示"请输入活动名称进行搜索"
     - 清空搜索：提供清空按钮
   - **去除排序搜索框**：
     - 移除原有的排序下拉选择框
     - 如需排序，可通过其他方式实现（如：表头点击排序）

2. **列表展示**
   - 保持原有的活动列表展示
   - 搜索时实时更新列表
   - 无搜索结果时显示"未找到相关活动"
   - 支持分页（搜索结果也支持分页）

**技术要求**：
- 搜索需支持防抖处理（避免频繁请求）
- 搜索请求需支持取消（用户继续输入时取消上一次请求）

---

#### 4.2.4 Admin 平台 - 活动发布功能优化

**功能描述**：活动发布后自动生成活动海报（H5 落地页），并在活动详情看板提供二维码访问。

**功能需求**：

1. **活动海报自动生成**
   - **触发时机**：点击"活动发布"按钮后自动生成
   - **海报形式**：H5 落地页
   - **访问权限**：所有人可访问（无需登录）
   - **海报内容**：
     - 活动名称
     - 活动时间（开始时间 ~ 结束时间）
     - 活动描述（摘要，如内容过长可截断）
     - 活动 Logo/封面图
     - 奖项信息（奖金、奖品）
     - 报名按钮（链接到 Arena 平台活动详情页）
     - 主办方信息
     - 赞助商信息（如有）
   - **海报风格**：科技未来风
     - 色彩：蓝紫渐变背景
     - 元素：霓虹线条、科技网格、Tech UI 元素
     - 特效：赛博元素（HUD、光轨、粒子效果）
     - 字体：硬朗风格、等宽字体
     - 布局：响应式设计，支持移动端和PC端

2. **海报访问**
   - **访问地址**：`/posters/:hackathonId`（Arena 平台）
   - **二维码生成**：
     - 位置：Admin 平台活动详情看板
     - 生成内容：海报 H5 页面链接
     - 二维码样式：支持自定义（可添加 Logo 水印）
     - 下载功能：支持下载二维码图片
   - **分享功能**（可选）：
     - 支持分享到社交媒体
     - 支持复制链接

**技术要求**：
- 海报页面需支持 SEO 优化（meta 标签）
- 海报页面需支持移动端适配
- 二维码生成需使用可靠的二维码生成库
- 海报样式需支持主题配置（未来可扩展）

---

#### 4.2.5 Arena 平台 - 首页优化

**功能描述**：在 Arena 平台首页增加活动集锦菜单和退出按钮。

**页面路径**：`/`（Arena 平台首页）

**功能需求**：

1. **活动集锦菜单**（新增）
   - 菜单位置：主导航栏
   - 菜单名称："活动集锦"或"往期活动"
   - 菜单链接：`/hackathons/archive`
   - 显示条件：始终显示（无论登录状态）

2. **退出按钮**（新增）
   - 按钮位置：用户菜单或页面右上角
   - 显示条件：仅已登录用户显示
   - 功能：退出登录，断开钱包连接
   - 交互：点击后确认对话框："确认退出登录？"

---

#### 4.2.6 Arena 平台 - 活动集锦页面

**功能描述**：展示已经结束的活动，包括作品列表、投票结果和比赛结果。

**页面路径**：`/hackathons/archive`（无需登录）

**功能需求**：

1. **活动列表**
   - 显示所有已结束的活动
   - 列表字段：
     - 活动封面图
     - 活动名称
     - 活动时间（已结束）
     - 参与人数
     - 作品数量
     - 查看详情按钮
   - 支持筛选：
     - 按时间筛选（最近一个月、最近三个月、最近半年、全部）
     - 按参与人数筛选（可选）
   - 支持搜索：按活动名称搜索
   - 支持分页显示
   - 排序：按结束时间倒序（最新的在前）

2. **活动详情**（点击查看详情）
   - **基本信息**：
     - 活动名称
     - 活动时间
     - 活动描述
     - 参与统计（报名人数、签到人数、队伍数量、作品数量）
   - **作品列表**：
     - 显示所有提交的作品
     - 字段：作品名称、队伍名称、作品描述、作品链接、得票数
     - 排序：按得票数倒序
     - 支持查看作品详情
   - **投票结果**：
     - 显示所有作品的得票情况
     - 可视化展示：柱状图或饼图
     - 列表展示：作品名称、得票数、得票率
   - **比赛结果**：
     - 显示获奖队伍
     - 按奖项展示：一等奖、二等奖、三等奖等
     - 每个奖项显示：
       - 队伍名称
       - 作品名称
       - 得票数
       - 奖金金额
       - 奖品信息

3. **访问权限**
   - 无需登录即可查看
   - 已登录用户可查看更详细的信息（如：自己的作品、投票记录等）

**技术要求**：
- 页面需支持 SEO 优化
- 数据可视化需使用合适的图表库
- 支持数据导出（可选）

---

### 4.3 整体优化 - 多语言支持

**功能描述**：Admin 和 Arena 平台均支持中英文双语，首页提供语言切换开关。

**功能需求**：

1. **语言切换**
   - **切换位置**：页面顶部或用户菜单
   - **切换方式**：下拉选择或开关按钮
   - **支持语言**：中文（简体）、English
   - **默认语言**：根据浏览器语言自动检测，如不支持则默认中文
   - **语言持久化**：用户选择的语言保存到本地存储（localStorage）

2. **翻译范围**
   - **Admin 平台**：
     - 所有页面文本
     - 按钮文字
     - 提示信息
     - 错误信息
     - 表单标签
     - 表格列名
   - **Arena 平台**：
     - 所有页面文本
     - 按钮文字
     - 提示信息
     - 错误信息
     - 表单标签
     - 活动信息（如活动描述等用户输入内容，保持原样）

3. **翻译内容管理**
   - 使用国际化框架（如：i18n）
   - 翻译文件结构：
     - `locales/zh-CN.json`（中文）
     - `locales/en-US.json`（英文）
   - 翻译键值对管理：
     - 使用有意义的键名
     - 支持参数化翻译（如：`欢迎，{name}`）

4. **特殊处理**
   - **用户输入内容**：保持原样，不翻译（如：活动名称、活动描述、作品名称等）
   - **日期时间格式**：根据语言切换格式（中文：YYYY年MM月DD日，英文：MM/DD/YYYY）
   - **数字格式**：根据语言切换格式（中文：1,234.56，英文：1,234.56）

**技术要求**：
- 使用成熟的国际化库（如：react-i18next、vue-i18n 等）
- 支持动态加载语言包
- 支持翻译缺失时的回退机制

---

## 5. 业务流程

### 5.1 赞助商入驻流程

```
[赞助商] → 访问申请页面 → 填写申请信息 → 提交申请
    ↓
[系统] → 保存申请记录 → 状态：待审核
    ↓
[Admin] → 查看待审核列表 → 审核申请
    ↓
[系统] → 审核通过：创建赞助商账号 → 发送通知（可选）
    ↓
[赞助商] → 使用手机号登录 → 查看和管理赞助信息
```

**流程说明**：
1. 赞助商无需登录即可访问申请页面
2. 提交申请后，申请状态为"待审核"
3. Admin 用户审核申请，可选择通过或拒绝
4. 审核通过后，系统自动创建赞助商账号
5. 赞助商可使用手机号登录，初始密码由系统生成（建议通过短信或邮件发送）

---

### 5.2 活动创建和发布流程

```
[Admin] → 创建活动 → 填写活动信息（含奖品） → 设置活动时间
    ↓
[系统] → 自动分配各阶段时间 → 保存活动
    ↓
[Admin] → 查看活动详情 → 确认信息 → 点击发布
    ↓
[系统] → 生成活动海报（H5） → 生成二维码 → 活动状态：已发布
    ↓
[所有人] → 扫描二维码或访问链接 → 查看活动海报 → 跳转报名
```

**流程说明**：
1. Admin 创建活动时，系统根据活动时间自动分配各阶段时间
2. 活动发布后，系统自动生成海报和二维码
3. 海报链接可分享，二维码可下载
4. 用户通过海报或二维码可直接访问活动详情并报名

---

### 5.3 活动集锦查看流程

```
[用户] → 访问 Arena 平台 → 点击"活动集锦"
    ↓
[系统] → 显示已结束活动列表
    ↓
[用户] → 选择活动 → 查看详情
    ↓
[系统] → 显示作品列表、投票结果、比赛结果
```

**流程说明**：
1. 所有用户（包括未登录）均可查看活动集锦
2. 活动集锦仅显示已结束的活动
3. 用户可查看活动的完整信息，包括作品、投票和结果

---

## 6. 数据模型

### 6.1 赞助商申请表（sponsor_applications）

| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | UUID | 申请ID | 主键 |
| phone | String | 手机号 | 必填，唯一 |
| logo_url | String | Logo URL | 必填 |
| sponsor_type | Enum | 赞助类型 | long_term/event_specific |
| event_ids | Array | 关联活动ID列表 | 活动指定赞助时必填 |
| status | Enum | 申请状态 | pending/approved/rejected |
| created_at | DateTime | 申请时间 | 自动生成 |
| reviewed_at | DateTime | 审核时间 | 审核时更新 |
| reviewer_id | UUID | 审核人ID | 审核时更新 |

### 6.2 赞助商表（sponsors）

| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | UUID | 赞助商ID | 主键 |
| username | String | 用户名（手机号） | 必填，唯一 |
| password_hash | String | 密码哈希 | 必填 |
| phone | String | 手机号 | 必填，唯一 |
| logo_url | String | Logo URL | 必填 |
| sponsor_type | Enum | 赞助类型 | long_term/event_specific |
| status | Enum | 状态 | active/inactive |
| created_at | DateTime | 创建时间 | 自动生成 |
| application_id | UUID | 申请ID | 外键，关联申请记录 |

### 6.3 活动奖品表（hackathon_prizes）

| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | UUID | 奖品ID | 主键 |
| hackathon_id | UUID | 活动ID | 外键 |
| award_id | UUID | 奖项ID | 外键 |
| name | String | 奖品名称 | 必填 |
| description | String | 奖品描述 | 可选 |
| image_url | String | 奖品图片URL | 可选 |
| order | Integer | 排序 | 可选 |

### 6.4 活动海报表（hackathon_posters）

| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | UUID | 海报ID | 主键 |
| hackathon_id | UUID | 活动ID | 外键，唯一 |
| poster_url | String | 海报页面URL | 必填 |
| qr_code_url | String | 二维码图片URL | 必填 |
| created_at | DateTime | 创建时间 | 自动生成 |

---

## 7. 接口设计

### 7.1 赞助商申请接口

#### 7.1.1 提交赞助申请
- **接口**：`POST /api/sponsor/applications`
- **权限**：无需登录
- **请求参数**：
```json
{
  "phone": "13800138000",
  "logo": "base64或文件",
  "sponsor_type": "long_term" | "event_specific",
  "event_ids": ["uuid1", "uuid2"] // 活动指定赞助时必填
}
```
- **响应**：
```json
{
  "code": 200,
  "message": "申请已提交",
  "data": {
    "application_id": "uuid"
  }
}
```

#### 7.1.2 查询申请结果
- **接口**：`GET /api/sponsor/applications/query?phone=13800138000`
- **权限**：无需登录
- **响应**：
```json
{
  "code": 200,
  "data": {
    "status": "pending" | "approved" | "rejected",
    "created_at": "2024-01-01T00:00:00Z"
  }
}
```

### 7.2 赞助商审核接口

#### 7.2.1 获取待审核列表
- **接口**：`GET /api/admin/sponsor/applications/pending`
- **权限**：Admin 登录
- **响应**：
```json
{
  "code": 200,
  "data": {
    "list": [...],
    "total": 100,
    "page": 1,
    "page_size": 20
  }
}
```

#### 7.2.2 审核申请
- **接口**：`POST /api/admin/sponsor/applications/:id/review`
- **权限**：Admin 登录
- **请求参数**：
```json
{
  "action": "approve" | "reject",
  "reason": "拒绝原因" // 可选
}
```
- **响应**：
```json
{
  "code": 200,
  "message": "审核成功",
  "data": {
    "sponsor_account": {
      "username": "13800138000",
      "password": "随机密码" // 仅审核通过时返回
    }
  }
}
```

### 7.3 活动管理接口

#### 7.3.1 创建活动（优化）
- **接口**：`POST /api/admin/hackathons`
- **权限**：Admin 登录
- **请求参数**：（扩展原有参数）
```json
{
  "name": "活动名称",
  "start_time": "2024-01-01T00:00:00Z",
  "end_time": "2024-01-31T23:59:59Z",
  "awards": [
    {
      "name": "一等奖",
      "prize_money": 10000,
      "winner_count": 1,
      "prizes": [
        {
          "name": "活动NFT",
          "description": "限量NFT",
          "image_url": "url"
        }
      ]
    }
  ],
  "auto_assign_stages": true // 是否自动分配各阶段时间
}
```

#### 7.3.2 获取活动统计详情
- **接口**：`GET /api/admin/hackathons/:id/statistics/:type`
- **权限**：Admin 登录
- **参数**：`type` = `registrations` | `checkins` | `teams` | `submissions`
- **响应**：
```json
{
  "code": 200,
  "data": {
    "list": [...],
    "total": 100
  }
}
```

#### 7.3.3 活动名称搜索
- **接口**：`GET /api/admin/hackathons?keyword=活动名称`
- **权限**：Admin 登录
- **响应**：活动列表（支持模糊搜索）

#### 7.3.4 发布活动（生成海报）
- **接口**：`POST /api/admin/hackathons/:id/publish`
- **权限**：Admin 登录
- **响应**：
```json
{
  "code": 200,
  "data": {
    "poster_url": "https://arena.example.com/posters/:id",
    "qr_code_url": "https://cdn.example.com/qrcodes/:id.png"
  }
}
```

### 7.4 活动集锦接口

#### 7.4.1 获取活动集锦列表
- **接口**：`GET /api/arena/hackathons/archive`
- **权限**：无需登录
- **请求参数**：
  - `page`: 页码
  - `page_size`: 每页数量
  - `keyword`: 搜索关键词
  - `time_range`: 时间范围筛选
- **响应**：
```json
{
  "code": 200,
  "data": {
    "list": [...],
    "total": 100
  }
}
```

#### 7.4.2 获取活动集锦详情
- **接口**：`GET /api/arena/hackathons/:id/archive`
- **权限**：无需登录
- **响应**：
```json
{
  "code": 200,
  "data": {
    "hackathon": {...},
    "submissions": [...],
    "vote_results": [...],
    "final_results": [...]
  }
}
```

### 7.5 多语言接口

#### 7.5.1 获取语言包
- **接口**：`GET /api/locales/:lang`
- **权限**：无需登录
- **参数**：`lang` = `zh-CN` | `en-US`
- **响应**：
```json
{
  "code": 200,
  "data": {
    "common": {...},
    "pages": {...},
    "messages": {...}
  }
}
```

---

## 8. 非功能需求

### 8.1 性能要求
- 活动海报生成时间：< 3秒
- 二维码生成时间：< 1秒
- 搜索响应时间：< 500ms（支持防抖）
- 页面加载时间：< 2秒

### 8.2 安全要求
- 赞助商申请需进行手机号格式校验和防重复提交
- 图片上传需进行文件类型和大小校验
- 审核操作需记录操作日志
- 自动生成的密码需满足复杂度要求

### 8.3 兼容性要求
- 支持主流浏览器（Chrome、Firefox、Safari、Edge）
- 支持移动端浏览器
- 海报页面需支持响应式设计

### 8.4 可维护性要求
- 代码需遵循项目规范
- 需提供完整的接口文档
- 需提供测试用例

---

## 9. 测试要求

### 9.1 功能测试
- 赞助商申请流程测试
- 审核流程测试
- 活动创建和发布测试
- 活动集锦功能测试
- 多语言切换测试

### 9.2 兼容性测试
- 浏览器兼容性测试
- 移动端适配测试
- 多语言显示测试

### 9.3 性能测试
- 海报生成性能测试
- 搜索性能测试
- 页面加载性能测试

---

## 10. 附录

### 10.1 术语表
- **长期赞助商**：提供长期赞助，所有活动都会展示其 Logo 的赞助商
- **活动指定赞助商**：仅赞助指定活动，仅在对应活动页面展示的赞助商
- **活动集锦**：展示已结束活动的页面，包括作品、投票和结果
- **活动海报**：活动发布后自动生成的 H5 落地页，用于活动宣传

### 10.2 参考文档
- IDEA-301: Hackathon 比赛平台第三期创意文档
- PRD-102: Hackathon 比赛平台第一期需求文档
- PRD-104: Hackathon Arena Platform 参赛者功能详细需求文档

---

**文档结束**

